#!/bin/bash

# Claude Code Shortcut: /check:
# Run comprehensive code quality checks
# Usage: /check:

set -e

echo "ğŸ” ElevatUs Code Quality Check"
echo "============================="

echo ""
echo "ğŸ“‹ Step 1: TypeScript Check"
if npm run type-check; then
    echo "âœ… TypeScript: All types valid"
else
    echo "âŒ TypeScript: Type errors found"
    exit 1
fi

echo ""
echo "ğŸ“Š Step 2: Git Status"
if [ -n "$(git status --porcelain)" ]; then
    echo "ğŸ“ Uncommitted changes:"
    git status --short
else
    echo "âœ… Git: Working directory clean"
fi

echo ""
echo "ğŸ“¦ Step 3: Project Info"
current_version=$(grep '"version"' package.json | sed 's/.*"version": *"\([^"]*\)".*/\1/')
echo "Version: $current_version"
echo "Branch: $(git branch --show-current)"
echo "Last commit: $(git log -1 --pretty=format:'%h - %s (%cr)')"

echo ""
echo "ğŸ”§ Step 4: Dependencies"
echo "Node: $(node --version)"
echo "NPM: $(npm --version)"

echo ""
echo "âœ… All checks completed!"
echo "ğŸš€ Ready for development or deployment"