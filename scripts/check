#!/bin/bash

# Claude Code Shortcut: /check:
# Run comprehensive code quality checks
# Usage: /check:

set -e

echo "🔍 ElevatUs Code Quality Check"
echo "============================="

echo ""
echo "📋 Step 1: TypeScript Check"
if npm run type-check; then
    echo "✅ TypeScript: All types valid"
else
    echo "❌ TypeScript: Type errors found"
    exit 1
fi

echo ""
echo "📊 Step 2: Git Status"
if [ -n "$(git status --porcelain)" ]; then
    echo "📝 Uncommitted changes:"
    git status --short
else
    echo "✅ Git: Working directory clean"
fi

echo ""
echo "📦 Step 3: Project Info"
current_version=$(grep '"version"' package.json | sed 's/.*"version": *"\([^"]*\)".*/\1/')
echo "Version: $current_version"
echo "Branch: $(git branch --show-current)"
echo "Last commit: $(git log -1 --pretty=format:'%h - %s (%cr)')"

echo ""
echo "🔧 Step 4: Dependencies"
echo "Node: $(node --version)"
echo "NPM: $(npm --version)"

echo ""
echo "✅ All checks completed!"
echo "🚀 Ready for development or deployment"