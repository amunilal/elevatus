#!/bin/bash

# Claude Code Shortcut: /status:
# Show comprehensive project status
# Usage: /status:

echo "ğŸ“Š ElevatUs Project Status"
echo "========================="

echo ""
echo "ğŸ“¦ Version Information:"
current_version=$(grep '"version"' package.json | sed 's/.*"version": *"\([^"]*\)".*/\1/')
echo "  App Version: $current_version"
echo "  Release Date: $(grep 'releaseDate:' lib/version.ts | sed "s/.*releaseDate: '\([^']*\)'.*/\1/")"

echo ""
echo "ğŸ”„ Git Information:"
echo "  Current Branch: $(git branch --show-current)"
echo "  Last Commit: $(git log -1 --pretty=format:'%h - %s')"
echo "  Commit Date: $(git log -1 --pretty=format:'%cr')"
echo "  Remote Status: $(git status -b --porcelain | head -1)"

echo ""
echo "ğŸ“ Working Directory:"
if [ -n "$(git status --porcelain)" ]; then
    echo "  Status: Modified files detected"
    git status --short | head -10
    file_count=$(git status --short | wc -l)
    if [ $file_count -gt 10 ]; then
        echo "  ... and $((file_count - 10)) more files"
    fi
else
    echo "  Status: Clean (no uncommitted changes)"
fi

echo ""
echo "ğŸ› ï¸  Environment:"
echo "  Node.js: $(node --version)"
echo "  NPM: $(npm --version)"
echo "  OS: $(uname -s) $(uname -r)"

echo ""
echo "ğŸ“Š Recent Activity:"
echo "  Last 5 commits:"
git log --oneline -5 | sed 's/^/    /'

echo ""
echo "ğŸ”— Deployment Info:"
echo "  Production URL: https://elevatus-pm2nhzrfd-ashveer.vercel.app"
echo "  Last Deploy: Check Vercel dashboard for details"

echo ""
echo "âœ… Status check completed at $(date)"