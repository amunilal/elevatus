#!/bin/bash

# Claude Code Shortcut: /commit:
# Quick commit with TypeScript check and push
# Usage: /commit: Your commit message here

set -e

# Get commit message from arguments
COMMIT_MSG="$*"

if [ -z "$COMMIT_MSG" ]; then
    echo "âŒ Error: Commit message required"
    echo "Usage: /commit: Your commit message here"
    exit 1
fi

echo "ğŸ” Running TypeScript check..."
npm run type-check

echo "ğŸ“ Staging changes..."
git add -A

echo "ğŸ’¬ Committing with message: $COMMIT_MSG"
git commit -m "$COMMIT_MSG

ğŸ¤– Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>"

echo "ğŸš€ Pushing to remote..."
git push origin main

echo "âœ… Commit and push completed successfully!"