#!/bin/bash

# Claude Code Shortcut: /commit:
# Quick commit with TypeScript check and push
# Usage: /commit: Your commit message here

set -e

# Get commit message from arguments
COMMIT_MSG="$*"

if [ -z "$COMMIT_MSG" ]; then
    echo "❌ Error: Commit message required"
    echo "Usage: /commit: Your commit message here"
    exit 1
fi

echo "🔍 Running TypeScript check..."
npm run type-check

echo "📝 Staging changes..."
git add -A

echo "💬 Committing with message: $COMMIT_MSG"
git commit -m "$COMMIT_MSG

🤖 Generated with [Claude Code](https://claude.ai/code)

Co-Authored-By: Claude <noreply@anthropic.com>"

echo "🚀 Pushing to remote..."
git push origin main

echo "✅ Commit and push completed successfully!"